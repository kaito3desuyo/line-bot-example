service: line-bot-example

useDotenv: true

provider:
  name: aws
  runtime: nodejs12.x
  region: ap-northeast-1
  profile: seapolis-admin
  iamManagedPolicies:
   - arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess
   - arn:aws:iam::aws:policy/service-role/AWSLambdaDynamoDBExecutionRole
  environment:
    LINE_ACCESS_TOKEN: ${env:LINE_ACCESS_TOKEN}
    LINE_CHANNEL_SECRET: ${env:LINE_CHANNEL_SECRET}

package:
  exclude:
    - .git/**

functions:
  app:
    handler: server.handler
    events:
      - http:
          path: /
          method: ANY
          cors: true
      - http:
          path: /{proxy+}
          method: ANY
          cors: true